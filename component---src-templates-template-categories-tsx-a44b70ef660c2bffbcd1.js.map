{"version":3,"sources":["webpack://aureliendud-website/./src/components/articlePreview.tsx","webpack://aureliendud-website/./src/partials/common/postsList.tsx","webpack://aureliendud-website/./src/services/tools.ts","webpack://aureliendud-website/./src/templates/template-categories.tsx"],"names":["CardCoverAttrs","className","alt","CardCover","image","skeletonMode","S","src","G","CardTitle","title","width","height","duration","CardText","excerpt","count","prettifyExcerpt","CardLink","link","href","cover","style","minHeight","getImage","posts","map","post","index","key","length","timeToReadMessage","words","time","Math","round","timeToRead","replace","data","pageContext","allMdx","nodes","pageTitle","category"],"mappings":"kvDAUMA,EAAiB,CACrBC,UAAW,0BACXC,IAAK,IAqCDC,EAA0C,SAAC,GAA4B,IAA1BC,EAA0B,EAA1BA,MACjD,OAD2E,EAAnBC,aAE/C,gBAAC,EAAAC,EAAD,eAAaC,IAAI,qCAAwCP,EAAzD,wBAELI,EACK,gBAAC,EAAAI,EAAD,eAAaJ,MAAOA,GAAWJ,IAEjC,gBAAC,EAAAM,EAAD,eAAaC,IAAI,gCAAmCP,EAApD,yBAMHS,EAA0C,SAAC,GAA4B,IAA1BC,EAA0B,EAA1BA,MAAOL,EAAmB,EAAnBA,aACxD,OAAKK,GAAUL,EAGb,sBAAIJ,UAAU,WACXI,EACC,gBAAC,KAAD,CAAUM,MAAM,OAAOC,OAAO,MAAMC,SA5DnB,IA8DjBH,GAP8B,kCAgBhCI,EAAwC,SAAC,GAA8B,IAA5BC,EAA4B,EAA5BA,QAASV,EAAmB,EAAnBA,aACxD,OAAKU,GAAYV,EAEbA,EACF,uBAAKJ,UAAU,cACb,gBAAC,KAAD,CAAUe,MAAO,EAAGH,SA5ED,KAiFrB,uBAAKZ,UAAU,eACZgB,QAAgBF,IAViB,kCAkBlCG,EAAwC,SAAC,GAA2B,IAAzBC,EAAyB,EAAzBA,KAAMd,EAAmB,EAAnBA,aACrD,OAAKc,GAAQd,EAAqB,iCAGhC,qBAAGe,KAAMD,EAAMlB,UAAU,2CAAzB,mBA4BJ,EAnB0D,SAAC,GAAD,IACxDS,EADwD,EACxDA,MACAW,EAFwD,EAExDA,MACAN,EAHwD,EAGxDA,QACAI,EAJwD,EAIxDA,KACAd,EALwD,EAKxDA,aALwD,OAOxD,uBAAKJ,UAAU,kDAAkDqB,MAAO,CAAEC,UAAW,UACnF,uBAAKtB,UAAU,SACb,gBAACE,EAAD,CAAWC,MAAOiB,IAASG,OAASH,GAAQhB,aAAcA,KAE5D,uBAAKJ,UAAU,6BACb,gBAACQ,EAAD,CAAWC,MAAOA,EAAOL,aAAcA,IACvC,gBAACS,EAAD,CAAUC,QAASA,EAASV,aAAcA,IAC1C,gBAACa,EAAD,CAAUC,KAAMA,EAAMd,aAAcA,OC9F1C,EAtBgD,SAAC,GAAD,IAAGoB,EAAH,EAAGA,MAAH,OAC9C,gCACGA,EAAMC,KAAI,SAACC,EAAMC,GAAP,OACT,uBAAK3B,UAAU,OAAO4B,IAAKD,GACzB,gBAAC,EAAmBD,OAIvBF,EAAMK,OAAS,GAVC,GAWf,uBAAK7B,UAAU,0BACb,gBAAC,EAAD,CAAgBI,cAAY,KAI/BoB,EAAMK,OAAS,GAhBC,GAiBf,uBAAK7B,UAAU,0BACb,gBAAC,EAAD,CAAgBI,cAAY,Q,kCCb7B,SAAS0B,EAAmBC,GACjC,IAAIC,EATC,SAAqBD,GAC1B,OAAOE,KAAKC,MAAMH,EAAQ,KAQfI,CAAWJ,GACtB,YAAYC,EAAO,GAAnB,KAAwBA,EAAO,EAAI,SAAW,W,yDASzC,IAAMhB,EAAkB,SAACF,GAAD,OAA6BA,EAAeA,EAAQsB,QAAQ,kBAAmB,KAAOtB,EAA/C,K,2ECoDtE,UAzB8D,SAAC,GAA0B,MAAxBuB,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YAE/Dd,GAAQa,SAAA,UAAAA,EAAME,cAAN,eAAcC,QAAS,KAG/BC,GAAYH,aAAA,EAAAA,EAAaI,WAAY,KAG3C,OACE,gBAAC,IAAD,KACE,uBAAK1C,UAAU,4BACZyC,GACC,sBAAIzC,UAAU,sBAAd,eACeyC,GAGhBjB,EAAMK,OAAS,GACd,gBAAC,IAAD,CAAWL,MAAOA","file":"component---src-templates-template-categories-tsx-a44b70ef660c2bffbcd1.js","sourcesContent":["import React, { FunctionComponent } from \"react\"\nimport { StaticImage, GatsbyImage, getImage, IGatsbyImageData } from \"gatsby-plugin-image\"\nimport { prettifyExcerpt } from 'services/tools'\nimport Skeleton from \"react-loading-skeleton\"\n\n/**\n * Settings\n */\nconst skeletonDuration = 5\n\nconst CardCoverAttrs = {\n  className: \"h-100 w-100 image-cover\",\n  alt: \"\"\n}\n\n/**\n * Type\n */\ninterface IArticlePreview {\n  cover?: IGatsbyImageData,\n  title?: string,\n  excerpt?: string,\n  link?: string,\n  skeletonMode?: boolean,\n}\n\ninterface ICardCover{\n  image?: IGatsbyImageData, \n  skeletonMode?: boolean\n}\n\ninterface ICardTitle {\n  title?: string, \n  skeletonMode?: boolean\n}\n\ninterface ICardText {\n  excerpt?: string, \n  skeletonMode?: boolean\n}\n\ninterface ICardLink {\n  link?: string, \n  skeletonMode?: boolean\n}\n\n/**\n * Atoms card cover\n */\nconst CardCover:FunctionComponent<ICardCover> = ({ image, skeletonMode }) => {\n  if (skeletonMode) \n    return <StaticImage src=\"../assets/images/default_soon.png\" {...CardCoverAttrs} />\n  \n  if (image) \n    return <GatsbyImage image={image} {...CardCoverAttrs} />\n\n  return <StaticImage src=\"../assets/images/default.png\" {...CardCoverAttrs} />\n}\n\n/**\n * Atoms card title\n */\nconst CardTitle:FunctionComponent<ICardTitle> = ({ title, skeletonMode }) => {\n  if (!title && !skeletonMode) return <></>\n\n  return (\n    <h3 className=\"h4 mb-2\">\n      {skeletonMode ? (\n        <Skeleton width=\"12em\" height=\"1em\" duration={skeletonDuration} />\n      ) : (\n        title\n      )}\n    </h3>\n  )\n}\n\n/**\n * Atoms card text\n */\nconst CardText:FunctionComponent<ICardText> = ({ excerpt, skeletonMode }) => {\n  if (!excerpt && !skeletonMode) return <></>\n\n  if (skeletonMode) return (\n    <div className=\"text-small\">\n      <Skeleton count={3} duration={skeletonDuration} />\n    </div>\n  ) \n\n  return (\n    <div className=\"text-small\">\n      {prettifyExcerpt(excerpt)}\n    </div>\n  )\n}\n\n/**\n * Atoms card link\n */\nconst CardLink:FunctionComponent<ICardLink> = ({ link, skeletonMode }) => {\n  if (!link || skeletonMode) return <></>\n\n  return (\n    <a href={link} className=\"stretched-link d-inline-block mt-2 mb-0\">\n      Lire l'article\n    </a>\n  )\n}\n\n/**\n * View\n */\nconst ArticlePreview:FunctionComponent<IArticlePreview> = ({ \n  title, \n  cover, \n  excerpt, \n  link, \n  skeletonMode\n}) => (\n  <div className=\"row no-gutters shadow rounded position-relative\" style={{ minHeight: '15rem' }}> \n    <div className=\"col-5\">\n      <CardCover image={cover && getImage(cover)} skeletonMode={skeletonMode} />\n    </div>\n    <div className=\"col-7 p-3 position-static\">\n      <CardTitle title={title} skeletonMode={skeletonMode} />\n      <CardText excerpt={excerpt} skeletonMode={skeletonMode} />\n      <CardLink link={link} skeletonMode={skeletonMode} />\n    </div>\n  </div>\n)\n\nexport default ArticlePreview\n","import React, { FunctionComponent } from \"react\";\nimport ArticlePreview from \"components/articlePreview\";\n\ninterface IPostsList {\n  posts: IPost[]\n}\n\nconst minPostCount = 3\n\nconst PostsList:FunctionComponent<IPostsList> = ({ posts }) => (\n  <>\n    {posts.map((post, index) => (\n      <div className=\"mb-4\" key={index}>\n        <ArticlePreview {...post} />\n      </div>\n    ))}\n    \n    {posts.length + 1 <= minPostCount && (\n      <div className=\"mb-4 d-none d-md-block\">\n        <ArticlePreview skeletonMode />\n      </div>\n    )}\n    \n    {posts.length + 2 <= minPostCount && (\n      <div className=\"mb-4 d-none d-lg-block\">\n        <ArticlePreview skeletonMode />\n      </div>\n    )}\n  </>\n)\n\nexport default PostsList\n","/**\n * Time to read a text\n * @description 230 words is an average count \n */\nexport function timeToRead (words:number) {\n  return Math.round(words / 200)\n}\n\n/**\n * Time to read a text\n * Rectify to display an user-friendly result\n */\nexport function timeToReadMessage (words:number) {\n  let time = timeToRead(words)\n  return `~ ${time + 1} ${time < 1 ? \"minute\" : \"minutes\"}`\n}\n\n/**\n * @description\n * Trim until the last point is it exists\n * Else the full excerpt if it exists\n * Else an empty string\n */\nexport const prettifyExcerpt = (excerpt?:string):string => !excerpt ? '' : excerpt.replace(/(?!.*\\.)\\n+.*/gm, '') || excerpt ","import React, { FunctionComponent } from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"partials/layouts/layout-page\";\nimport PostsList from \"partials/common/postsList\";\n\n/**\n * Type\n */\ninterface ICategoryTemplate {\n  data: IAllMdxData,\n  pageContext: any\n}\n\n/**\n * QUery\n */\nexport const pageQuery = graphql`\n  query categoryPageQuery($category: String!) {\n    allMdx(\n      sort: { fields: [frontmatter___date], order: ASC }\n      filter: {\n        frontmatter: { category: { eq: $category } }\n        fields: { group: { eq: \"blog\" } }\n      }\n    ) {\n      nodes {\n        frontmatter {\n          title\n          date\n          category\n          cover {\n            childImageSharp {\n              gatsbyImageData(layout: FULL_WIDTH)\n            }\n          }\n        }\n        fields {\n          slug\n          group\n        }\n        excerpt(pruneLength: 150)\n      }\n    }\n  }\n`;\n\n\n/**\n * View\n */\nconst CategoryTemplate:FunctionComponent<ICategoryTemplate> = ({ data, pageContext }) => {\n  // format mdx data\n  const posts = data?.allMdx?.nodes || null;\n\n  // title\n  const pageTitle = pageContext?.category || null;\n\n  // render\n  return (\n    <Layout>\n      <div className=\"container pt-2 mt-4 mb-3\">\n        {pageTitle && (\n          <h1 className=\"mb-4 effect-square\">\n            Cat√©gorie : {pageTitle}\n          </h1>\n        )}\n        {posts.length > 0 && (\n          <PostsList posts={posts} />\n        )}\n      </div>\n    </Layout>\n  );\n}\n\n\nexport default CategoryTemplate"],"sourceRoot":""}